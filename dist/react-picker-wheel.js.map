{"version":3,"file":"react-picker-wheel.js","sources":["../lib/pureRender.js","../lib/prefix.js","../lib/PickerWheelColumn.js","../lib/PickerWheel.js","../lib/Modal.js","../lib/index.js"],"sourcesContent":["export function shallowEqual(prev, next) {\n    if (prev === next) return true;\n    const prevKeys = Object.keys(prev);\n    const nextKeys = Object.keys(next);\n\n    if (prevKeys.length !== nextKeys.length) return false;\n\n    return prevKeys.every((key) => {\n        return prev.hasOwnProperty(key) && prev[key] === next[key];\n    });\n}\n\nfunction PureRender(Component) {\n    Component.prototype.shouldComponentUpdate = function(nextProps, nextState) {\n        return PureRender.shouldComponentUpdate(nextProps, nextState, this.props, this.state);\n    };\n}\n\nPureRender.shouldComponentUpdate = function (nextProps, nextState, preProps, preState) {\n    return !shallowEqual(preProps, nextProps) || !shallowEqual(preState, nextState);\n};\n\nexport default PureRender;\n","/**\n * 驼峰写法\n * @param  {String} str 要转化的字符串\n * @return {String}     转化后的字符串\n */\nexport function camelCase(str) {\n    return str.replace(/-([a-z])/g, ($0, $1) => $1.toUpperCase()).replace('-', '');\n}\n\n/**\n * 格式化css属性对象\n * @param  {Object} props 属性对象\n * @return {Object}       添加前缀的格式化属性对象\n */\nexport function formatCss(props) {\n    const prefixs = ['-webkit-', '-moz-', '-ms-'];\n\n    const result = {};\n\n    const regPrefix = /transform|transition/;\n\n\n    for (const key in props) {\n        if (props.hasOwnProperty(key)) {\n            const styleValue = props[key];\n\n            // 如果检测是transform或transition属性\n            if (regPrefix.test(key)) {\n                for (let i = 0; i < prefixs.length; i++) {\n                    const styleName = camelCase(prefixs[i] + key);\n                    result[styleName] = styleValue.replace(regPrefix, `${prefixs[i]}$&`);\n                }\n            }\n\n            result[key] = styleValue;\n        }\n    }\n\n    return result;\n}\n\n/**\n * 为元素添加css样式\n * @param {Object} element 目标元素\n * @param {Object} props   css属性对象\n */\nexport function addPrefixCss(element, props) {\n    const formatedProps = formatCss(props);\n    for (const key in formatedProps) {\n        if (formatedProps.hasOwnProperty(key)) {\n            element.style[key] = formatedProps[key];\n        }\n    }\n}\n","\n/**\n * @module Date组件\n */\nimport React, { Component } from 'react';\nimport { shallowEqual } from './pureRender.js';\nimport { addPrefixCss, formatCss } from './prefix.js';\n\nconst isUndefined = val => typeof val === 'undefined';\nconst isArray = val => Object.prototype.toString.apply(val)  === '[object Array]';\nconst isFunction = val => Object.prototype.toString.apply(val)  === '[object Function]';\n\nconst FIXED_SPIN_ANIMATION_TIME = 80;\nconst MAX_SPIN_TIME = 3000;\nconst MAX_VELOCITY = 80;\n\nconst SNAPPY_VELOCITY_THRESHOLD = 40;\nconst SNAPPY_ANIMATION_TIME = 300;\n\ntype Props = {\n    value: Object,\n    min: Object,\n    max: Object,\n    items: Array,\n    step: number,\n    onSelect: Function,\n    itemHeight: number,\n}\n\ntype State = {\n    translateY: number,\n    marginTop: number,\n}\n\n/**\n * Class Date组件类\n * @extends Component\n */\nclass PickerWheelColumn extends Component<void, Props, State> {\n    constructor(props) {\n        super(props);\n        this.animating = false;                 // 判断是否在transition过渡动画之中\n        this.touchY = 0;                        // 保存touchstart的pageY\n        this.translateY = 0;                    // 容器偏移的距离\n        this.lastEventTime = Date.now();\n        this.lastTouchY = 0;\n        this.velocity = 0;\n        this.moveItemCount = 0;                 // 一次滑动移动了多少个时间\n        this.itemHeight = props.itemHeight;\n        this.spinTimeout = null;\n        this.accelerationRate = 0;\n        this.estimatedAccelerationRate = 0;\n        this.remainderDistTravelled = 0;\n        this.remainderFragment = 0;\n\n        this.middleIndex = Math.floor(props.items.length / 2);\n        this.middleY = - this.itemHeight * this.middleIndex;\n        this.currentIndex = this.middleIndex;       // 滑动中当前日期的索引\n\n        this.maxItemSpinCount = Math.min(props.items.length / 2, 7);\n\n        this.state = {\n            translateY: this.middleY,\n            marginTop: (this.currentIndex - this.middleIndex) * this.itemHeight,\n            items: props.items,\n        };\n\n        this.renderPickerWheelItem = this.renderPickerWheelItem.bind(this);\n        this.handleContentTouch = this.handleContentTouch.bind(this);\n        this.handleContentMouseDown = this.handleContentMouseDown.bind(this);\n        this.handleContentMouseMove = this.handleContentMouseMove.bind(this);\n        this.handleContentMouseUp = this.handleContentMouseUp.bind(this);\n    }\n\n    componentDidMount() {\n        const viewport = this.viewport;\n        viewport.addEventListener('touchstart', this.handleContentTouch, false);\n        viewport.addEventListener('touchmove', this.handleContentTouch, false);\n        viewport.addEventListener('touchend', this.handleContentTouch, false);\n        viewport.addEventListener('mousedown', this.handleContentMouseDown, false);\n    }\n\n    componentWillMount() {\n        this._iniItems(this.props.value);\n    }\n\n    componentWillReceiveProps(nextProps) {\n        if (nextProps.value === this.props.value) {\n            return;\n        }\n        this._iniItems(nextProps.value);\n        this.currentIndex = this.middleIndex;\n        this.setState({\n            translateY: this.middleY,\n            marginTop: (this.currentIndex - this.middleIndex) * this.itemHeight,\n        });\n    }\n\n    /**\n     * Optimization component, Prevents unnecessary rendering\n     * Only value or state change should re-rendering\n     *\n     * @param  {Object} nextProps next props\n     * @param  {Object} nextState next state\n     * @return {Boolean}          Whether re-rendering\n     */\n    shouldComponentUpdate(nextProps, nextState) {\n        return nextProps.value !== this.props.value ||\n            !shallowEqual(nextState, this.state);\n    }\n\n    componentWillUnmount() {\n        const viewport = this.viewport;\n        viewport.removeEventListener('touchstart', this.handleContentTouch, false);\n        viewport.removeEventListener('touchmove', this.handleContentTouch, false);\n        viewport.removeEventListener('touchend', this.handleContentTouch, false);\n        viewport.removeEventListener('mousedown', this.handleContentMouseDown, false);\n    }\n\n    _iniItems(value) {\n        let items = this.state.items;\n        for (let i = 0; i < items.length; i++) {\n            if (items[this.middleIndex].value === value) {\n                this.setState({ items });\n                return true;\n            } else {\n                const shiftedItem = items[0];\n                items = [\n                    ...items.slice(1),\n                    shiftedItem,\n                ];\n            }\n        }\n    }\n\n    _updateItemsAndMargin(difference) {\n        const { items } = this.state;\n        if (difference > 0) {\n            const shiftedItems = items.slice(0, difference);\n            this.currentIndex += difference;\n            this.setState({\n                items: items.slice(difference).concat(shiftedItems),\n                marginTop: (this.currentIndex - this.middleIndex) * this.itemHeight,\n            });\n        } else if (difference < 0) {\n            const shiftedItems = items.slice(items.length + difference, items.length);\n            this.currentIndex += difference;\n            this.setState({\n                items: shiftedItems.concat(items.slice(0, items.length + difference)),\n                marginTop: (this.currentIndex - this.middleIndex) * this.itemHeight,\n            });\n        }\n    }\n\n    _checkIsUpdateItems(direction, translateY) {\n        return direction === 1 ?\n            this.currentIndex * this.itemHeight + this.itemHeight / 2 < -translateY :\n            this.currentIndex * this.itemHeight - this.itemHeight / 2 > -translateY;\n    }\n\n    /**\n     * 清除对象的transition样式\n     * @param  {Dom}     obj     指定的对象\n     * @return {undefined}\n     */\n    _clearTransition(obj) {\n        this.animating = false;\n        addPrefixCss(obj, { transition: '' });\n        clearTimeout(this.spinTimeout);\n    }\n\n    /**\n     * 滑动到下一日期\n     * @param  {number} direction 滑动方向\n     * @return {undefined}\n     */\n    _moveToNext(direction) {\n        const value = this.state.items[this.middleIndex].value;\n        const { max, min } = this.props;\n        if (direction === -1 && value < min && this.moveItemCount) {\n            this._updateItemsAndMargin(1);\n        } else if (direction === 1 && value > max && this.moveItemCount) {\n            this._updateItemsAndMargin(-1);\n        }\n\n        if (Math.abs(this.velocity) < SNAPPY_VELOCITY_THRESHOLD)\n            this._snappySpinTo(direction);\n        else\n            this._scrollWithVelocity(direction);\n    }\n\n    /**\n     * 添加滑动动画\n     * @param  {DOM} obj   DOM对象\n     * @param  {number} angle 角度\n     * @return {undefined}\n     */\n    _scrollWithVelocity(direction) {\n        this.animating = true;\n\n        // STUB to calculate target distance and extra remainder distance to reach it\n        if (this.estimatedAccelerationRate !== this.accelerationRate) {\n            \n            // always fixed number of animation events\n            const numberOfAccelerationEvents = MAX_SPIN_TIME / FIXED_SPIN_ANIMATION_TIME;\n\n            // estimate distance based on current acceleration, velocity, and number of velocity changing events\n            //const estimatedDistTravelled = this.velocity * numberOfAccelerationEvents +\n            //    (0.5 * this.estimatedAccelerationRate * Math.pow(numberOfAccelerationEvents, 2));\n\n            let estimatedDistTravelled = 0;\n            let simulatedVelocity = this.velocity;\n            for (let i = 0; i < numberOfAccelerationEvents; i++) {\n                estimatedDistTravelled += simulatedVelocity;\n                simulatedVelocity += this.estimatedAccelerationRate;\n            }\n\n            const estimatedTotalDistTravelled = -this.state.translateY + estimatedDistTravelled;\n\n            // target is next mod item height\n            const targetDistTravelled = estimatedTotalDistTravelled\n                - (estimatedTotalDistTravelled % this.itemHeight)\n                + this.itemHeight\n                + this.state.translateY;\n\n            // calculate remainder and flat velocity addition on each animation event\n            this.remainderDistTravelled = targetDistTravelled - estimatedDistTravelled;\n            this.remainderFragment = this.remainderDistTravelled / numberOfAccelerationEvents;\n\n            // deprecated\n            //const predictedAccelerationRate = ((targetDistTravelled - (this.velocity * numberOfAccelerationEvents)) * 2) / Math.pow(numberOfAccelerationEvents, 2);\n\n            // STUB to not recompute all above\n            this.accelerationRate = this.estimatedAccelerationRate;\n        }\n\n        // turn on transform css\n        addPrefixCss(this.refs.scroll, { transition: `transform ${FIXED_SPIN_ANIMATION_TIME}ms linear` });\n\n        // always add flat remainder fragment\n        const unitsToTravelNow = this.velocity + this.remainderFragment;\n\n        // set next translateY target\n        this.setState((state, props) => {\n            return { translateY: state.translateY - unitsToTravelNow };\n        });\n\n        // apply acceleration to velocity\n        this.velocity += this.accelerationRate;\n\n        this.spinTimeout = setTimeout(() => {\n            this.syncSpinAndItems();\n            if ((this.velocity <= 0 && direction >= 0) ||\n                (this.velocity >= 0 && direction <= 0) ||\n                (this.accelerationRate * direction >= 0)) { // in case we are increasing accelerating\n                this.setState({ translateY: - this.currentIndex * this.itemHeight });\n                this.props.onSelect(this.state.items[this.middleIndex].value);\n                this._clearTransition(this.refs.scroll);\n            } else if (this.animating) {\n                this._scrollWithVelocity(direction);\n            }\n        }, FIXED_SPIN_ANIMATION_TIME);\n    }\n\n    syncSpinAndItems() {\n        const closestAnimatedIndex = -Math.round(this.state.translateY / this.itemHeight);\n        if (closestAnimatedIndex !== this.currentIndex) {\n            this._updateItemsAndMargin(closestAnimatedIndex - this.currentIndex);\n        }\n    }\n\n    /**\n     * 添加滑动动画\n     * @param  {DOM} obj   DOM对象\n     * @param  {number} angle 角度\n     * @return {undefined}\n     */\n    _snappySpinTo(direction) {\n        this.animating = true;\n\n        this.velocity = this.velocity / FIXED_SPIN_ANIMATION_TIME;\n        const accelerationRate = -(this.velocity / SNAPPY_ANIMATION_TIME); // units per ms for decelleration\n\n        let unitsToTravel = 0;\n        for (var i = 0; i < SNAPPY_ANIMATION_TIME; i++) {\n            unitsToTravel += this.velocity;\n            this.velocity += accelerationRate;\n        }\n\n        const absoluteUnitsToTravel = Math.abs(unitsToTravel);\n\n        const additionalIndexesToTravel = [\n            -this.maxItemSpinCount,\n            Math.floor(absoluteUnitsToTravel / this.itemHeight) * direction,\n            this.maxItemSpinCount\n        ].sort(function(a, b){ return a - b; })[1];\n\n        const virtualCurrentIndex = additionalIndexesToTravel + this.currentIndex;\n\n        // heuristic to speed up animations for small velocities\n        const animationTime = (function(indexes) {\n            switch (Math.abs(indexes)) {\n                case 0:\n                    return 50;\n                case 1:\n                    return 100;\n                default:\n                    return SNAPPY_ANIMATION_TIME;\n            }\n        })(additionalIndexesToTravel);\n\n        addPrefixCss(this.refs.scroll, { transition: `transform ${animationTime}ms ease-out` });\n\n        this.setState({\n            translateY: -virtualCurrentIndex * this.itemHeight,\n        });\n\n        // NOTE: There is no transitionend, setTimeout is used instead.\n        setTimeout(() => {\n            this._updateItemsAndMargin(additionalIndexesToTravel);\n            this.props.onSelect(this.state.items[this.middleIndex].value);\n            this._clearTransition(this.refs.scroll);\n        }, animationTime);\n    }\n\n    handleStart(event) {\n        this.touchY =\n            (!isUndefined(event.targetTouches) &&\n             !isUndefined(event.targetTouches[0])) ?\n            event.targetTouches[0].pageY :\n            event.pageY;\n\n        this._clearTransition(this.refs.scroll);\n        this.translateY = this.state.translateY;\n        this.moveItemCount = 0;\n\n        this.syncSpinAndItems();\n\n        // update/reset velocity\n        this.velocity = 0;\n        this.lastEventTime = Date.now();\n        this.lastTouchY = this.touchY;\n    }\n\n\n    handleMove(event) {\n        const touchY =\n            (!isUndefined(event.targetTouches) &&\n             !isUndefined(event.targetTouches[0])) ?\n            event.targetTouches[0].pageY :\n            event.pageY;\n\n        const dir = touchY - this.touchY;\n        const translateY = this.translateY + dir;\n        const direction = dir > 0 ? -1 : 1;\n\n        const diff = this.lastTouchY - touchY;\n        const now = Date.now();\n        const timeDiff = now - this.lastEventTime;\n\n        this.velocity = [\n            -MAX_VELOCITY,\n            Math.round((diff / timeDiff) * FIXED_SPIN_ANIMATION_TIME),\n            MAX_VELOCITY\n        ].sort(function(a, b){ return a - b; })[1];\n\n        this.estimatedAccelerationRate = -(this.velocity / (MAX_SPIN_TIME / FIXED_SPIN_ANIMATION_TIME)); // units per ms for decelleration until velocity=0\n\n        this.lastEventTime = Date.now();\n        this.lastTouchY = touchY;\n\n        // 日期最小值，最大值限制\n        const value = this.state.items[this.middleIndex].value;\n        const { max, min } = this.props;\n        if (value < min ||\n            value > max) {\n            return;\n        }\n\n        // 检测是否更新日期列表\n        if (this._checkIsUpdateItems(direction, translateY)) {\n            this.moveItemCount = direction > 0 ? this.moveItemCount + 1 : this.moveItemCount - 1;\n            this._updateItemsAndMargin(direction);\n        }\n\n        this.setState({ translateY });\n    }\n\n    handleEnd(event) {\n        const touchY = event.pageY || event.changedTouches[0].pageY;\n        const dir = touchY - this.touchY;\n        const direction = dir > 0 ? -1 : 1;\n        this._moveToNext(direction);\n    }\n\n    /**\n     * 滑动日期选择器触屏事件\n     * @param  {Object} event 事件对象\n     * @return {undefined}\n     */\n    handleContentTouch(event) {\n        event.preventDefault();\n        //if (this.animating) return;\n        if (event.type === 'touchstart') {\n            this.handleStart(event);\n        } else if (event.type === 'touchmove') {\n            this.handleMove(event);\n        } else if (event.type === 'touchend') {\n            this.handleEnd(event);\n        }\n    }\n\n    /**\n     * 滑动日期选择器鼠标事件\n     * @param  {Object} event 事件对象\n     * @return {undefined}\n     */\n    handleContentMouseDown(event) {\n        //if (this.animating) return;\n        this.handleStart(event);\n        document.addEventListener('mousemove', this.handleContentMouseMove);\n        document.addEventListener('mouseup', this.handleContentMouseUp);\n    }\n\n    handleContentMouseMove(event) {\n        //if (this.animating) return;\n        this.handleMove(event);\n    }\n\n    handleContentMouseUp(event) {\n        //if (this.animating) return;\n        this.handleEnd(event);\n        document.removeEventListener('mousemove', this.handleContentMouseMove);\n        document.removeEventListener('mouseup', this.handleContentMouseUp);\n    }\n\n    /**\n     * 渲染一个日期DOM对象\n     * @param  {Object} date date数据\n     * @return {Object}      JSX对象\n     */\n    renderPickerWheelItem(item, index) {\n        const className =\n            (item.value < this.props.min || item.value > this.props.max) ?\n            'disabled' : '';\n\n        return (\n            <li\n                key={index}\n                className={className}\n                style={{\n                    height: this.itemHeight,\n                    lineHeight: `${this.itemHeight}px`,\n                }}\n            >\n                {item.text}\n            </li>\n        );\n    }\n\n    render() {\n        const scrollStyle = formatCss({\n            transform: `translateY(${this.state.translateY}px)`,\n            marginTop: this.state.marginTop,\n        });\n\n        return (\n            <div className=\"picker-wheel-col-1\">\n                <div\n                    ref={viewport => this.viewport = viewport} // eslint-disable-line\n                    className=\"picker-wheel-viewport\"\n                    style={{ height: this.itemHeight * 5 }}\n                >\n                    <div\n                        className=\"picker-wheel-wheel\"\n                        style={{\n                            height: this.itemHeight,\n                            marginTop: -(this.itemHeight / 2)\n                        }}\n                    >\n                        <ul\n                            ref=\"scroll\"\n                            className=\"picker-wheel-scroll\"\n                            style={scrollStyle}>\n                            {this.state.items.map(this.renderPickerWheelItem)}\n                        </ul>\n                    </div>\n                </div>\n            </div>\n        );\n    }\n}\n\nexport default PickerWheelColumn;\n","/**\n * @module PickerWheel Component\n */\n\nimport React, { Component } from 'react';\nimport PickerWheelColumn from './PickerWheelColumn.js';\nimport PureRender from './pureRender.js';\n\ntype Props = {\n    theme: string,\n    value: Object,\n    min: Object,\n    max: Object,\n    items: Array,\n    customHeader?: React.Element<*>,\n    showHeader: boolean,\n    confirmText: string,\n    cancelText: string,\n    onSelect: Function,\n    onCancel: Function,\n    itemHeight: number,\n}\n\ntype State = {\n    value: Object,\n}\n\n/**\n * Class PickerWheel Component Class\n * @extends Component\n */\nclass PickerWheel extends Component<void, Props, State> {\n    constructor(props) {\n        super(props);\n        this.state = {\n            value: this.props.value,\n        };\n\n        this.handleFinishBtnClick = this.handleFinishBtnClick.bind(this);\n        this.handleItemSelect = this.handleItemSelect.bind(this);\n    }\n\n    componentWillReceiveProps(nextProps) {\n        // update value of state\n        if (nextProps.value !== this.state.value) {\n            this.setState({ value: nextProps.value });\n        }\n    }\n\n    /**\n     * When you swipe two datepickeritems at the same time.\n     * Prevent dates from going out.\n     */\n    componentDidUpdate() {\n        const value = this.state.value;\n        const { min, max } = this.props;\n        if (value > max) {\n            this.setState({ value: max });\n        }\n\n        if (value < min) {\n            this.setState({ value: min });\n        }\n    }\n\n    /**\n     * Optimization component, Prevents unnecessary rendering\n     * Only props or state change or value before re-rendering\n     *\n     * @param  {Object} nextProps next props\n     * @param  {Object} nextState next state\n     * @return {Boolean}          Whether re-rendering\n     */\n    shouldComponentUpdate(nextProps, nextState) {\n        return nextProps.value !== this.state.value ||\n            PureRender.shouldComponentUpdate(nextProps, nextState, this.props, this.state);\n    }\n\n    /**\n     * 点击完成按钮事件\n     * @return {undefined}\n     */\n    handleFinishBtnClick() {\n        this.props.onSelect(this.state.value);\n    }\n\n    /**\n     * 选择下一个日期\n     * @return {undefined}\n     */\n    handleItemSelect(value) {\n        this.setState({ value });\n        this.props.onChange && this.props.onChange(value);\n    }\n\n    /**\n     * render函数\n     * @return {Object} JSX对象\n     */\n    render() {\n        const {\n            min,\n            max,\n            items,\n            theme,\n            confirmText,\n            cancelText,\n            showHeader,\n            customHeader,\n            itemHeight,\n        } = this.props;\n        const value = this.state.value;\n        const themeClassName =\n            ['default', 'dark', 'ios', 'android', 'android-dark', 'assurance'].indexOf(theme) === -1 ?\n            'default' : theme;\n     \n        return (\n            <div\n                className={`picker-wheel ${themeClassName}`}>\n                {showHeader &&\n                    <div className=\"picker-wheel-header\">{customHeader || value}</div>}\n                <div className=\"picker-wheel-content\">\n                    <PickerWheelColumn\n                        step={1}\n                        value={value}\n                        min={min}\n                        max={max}\n                        items={items}\n                        onSelect={this.handleItemSelect}\n                        itemHeight={itemHeight}\n                    />\n                </div>\n                <div className=\"picker-wheel-navbar\">\n                    <a\n                        className=\"picker-wheel-navbar-btn\"\n                        onClick={this.handleFinishBtnClick}>{confirmText}</a>\n                    <a\n                        className=\"picker-wheel-navbar-btn\"\n                        onClick={this.props.onCancel}>{cancelText}</a>\n                </div>\n            </div>\n        );\n    }\n }\n\nexport default PickerWheel;\n","import React, { Component } from 'react';\nimport ReactDOM from 'react-dom';\nconst renderSubtreeIntoContainer = ReactDOM.unstable_renderSubtreeIntoContainer;\n\ntype Props = {\n    children: React.Element<*>,\n    isOpen: boolean,\n}\n\ntype DefaultProps = {\n    isOpen: boolean,\n}\n\nclass Modal extends Component<DefaultProps, Props, void> {\n\n    static defaultProps = {\n        isOpen: false,\n    }\n\n    componentDidMount() {\n        this._div = document.createElement('div');\n        this._div.classList.add('Modal-Portal');\n        document.body.appendChild(this._div);\n        this.renderPortal(this.props);\n    }\n\n    componentWillReceiveProps(newProps) {\n        this.renderPortal(newProps);\n    }\n\n    componentWillUnmount() {\n        ReactDOM.unmountComponentAtNode(this._div);\n        this._div.parentNode.removeChild(this._div);\n    }\n\n    renderPortal(props) {\n        const portal =\n        React.cloneElement(this.props.children, { ...props, key: 'portal' }, null);\n\n        this.portal =\n        renderSubtreeIntoContainer(this, portal, this._div);\n    }\n\n    render() {\n        return (<noscript / >);\n    }\n}\n\nexport default Modal;\n","import './index.css';\nimport React from 'react';\nimport PickerWheel from './PickerWheel.js';\nimport Modal from './Modal.js';\n\ntype EnhancePickerWheelProps<T> = T & {\n    isOpen: boolean,\n}\n\nfunction EnhancePickerWheel<T: *>({ isOpen, ...props }: EnhancePickerWheelProps<T>) {\n    function onModalClose(event) {\n        if (event.target === event.currentTarget) {\n            props.onCancel();\n        }\n    }\n\n    return (\n        <div\n            style={{ display: isOpen ? '' : 'none' }}\n            onClick={onModalClose}\n            className=\"picker-wheel-modal\">\n            <PickerWheel {...props} />\n        </div>\n    );\n}\n\ntype ModalPickerWheelProps<T> = T & {\n    isPopup: boolean,\n}\n\nfunction ModalPickerWheel<T: *>({ isPopup, ...props }: ModalPickerWheelProps<T>) {\n    if (!isPopup) {\n        return <PickerWheel {...props} />;\n    }\n\n    return (\n        <Modal {...props}>\n            <EnhancePickerWheel />\n        </Modal>\n    );\n}\n\nModalPickerWheel.defaultProps = {\n    isPopup: true,\n    isOpen: false,\n    theme: 'default',\n    value: '',\n    //min: new Date(1970, 0, 1),\n    //max: new Date(2050, 0, 1),\n    items: [],\n    showHeader: true,\n    confirmText: '完成',\n    cancelText: '取消',\n    onSelect: () => {},\n    onCancel: () => {},\n    itemHeight: 40,\n};\n\nexport default ModalPickerWheel;\n"],"names":["shallowEqual","prev","next","prevKeys","Object","keys","nextKeys","length","every","key","hasOwnProperty","PureRender","Component","prototype","shouldComponentUpdate","nextProps","nextState","props","state","preProps","preState","camelCase","str","replace","$0","$1","toUpperCase","formatCss","prefixs","result","regPrefix","styleValue","test","i","styleName","addPrefixCss","element","formatedProps","style","isUndefined","val","FIXED_SPIN_ANIMATION_TIME","MAX_SPIN_TIME","MAX_VELOCITY","SNAPPY_VELOCITY_THRESHOLD","SNAPPY_ANIMATION_TIME","PickerWheelColumn","animating","touchY","translateY","lastEventTime","Date","now","lastTouchY","velocity","moveItemCount","itemHeight","spinTimeout","accelerationRate","estimatedAccelerationRate","remainderDistTravelled","remainderFragment","middleIndex","Math","floor","items","middleY","currentIndex","maxItemSpinCount","min","renderPickerWheelItem","bind","handleContentTouch","handleContentMouseDown","handleContentMouseMove","handleContentMouseUp","viewport","addEventListener","_iniItems","value","setState","removeEventListener","shiftedItem","slice","difference","shiftedItems","concat","direction","obj","transition","max","_updateItemsAndMargin","abs","_snappySpinTo","_scrollWithVelocity","numberOfAccelerationEvents","estimatedDistTravelled","simulatedVelocity","estimatedTotalDistTravelled","targetDistTravelled","refs","scroll","unitsToTravelNow","setTimeout","syncSpinAndItems","onSelect","_clearTransition","closestAnimatedIndex","round","unitsToTravel","absoluteUnitsToTravel","additionalIndexesToTravel","sort","a","b","virtualCurrentIndex","animationTime","indexes","event","targetTouches","pageY","dir","diff","timeDiff","_checkIsUpdateItems","changedTouches","_moveToNext","preventDefault","type","handleStart","handleMove","handleEnd","item","index","className","React","text","scrollStyle","marginTop","height","map","PickerWheel","handleFinishBtnClick","handleItemSelect","onChange","theme","confirmText","cancelText","showHeader","customHeader","themeClassName","indexOf","onCancel","renderSubtreeIntoContainer","ReactDOM","unstable_renderSubtreeIntoContainer","Modal","_div","document","createElement","classList","add","body","appendChild","renderPortal","newProps","unmountComponentAtNode","parentNode","removeChild","portal","cloneElement","children","defaultProps","EnhancePickerWheel","isOpen","onModalClose","target","currentTarget","display","ModalPickerWheel","isPopup"],"mappings":"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"}